(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[15411],{15411:function(e,a,t){"use strict";t.d(a,{Z:function(){return x}});var r=t(52322),o=t(72779),l=t.n(o),n=t(5632),s=t(2784),i=t(98268),u=t(93080),c=t(45823),d=t(26722),y=t(26553),p=t(90390),v=t(25429),b=t(4778),m=t(56792),f=t(69031),h=t(55036),_=t(41409),P=t(2670),k=t(57142),g=function(e,a){(0,s.useEffect)(()=>{if(!e||!a)return;let t=0,r=0,o=(0,k.PB)(()=>{let o=performance.now();r=o,(async()=>{let l=t;try{l=await e.getCurrentTime()}catch{}o===r&&l!==t&&(t=l,a({seconds:l}))})()},100);return()=>{o()}},[e,a])},w=t(22617),C=t(78050),N=t(50749),I=t(96094);let S=(0,s.forwardRef)(function(e,a){let{videoId:t,autoplay:o,loop:n=!1,controls:i=!0,background:u=!1,allowFullScreen:c=!0,muted:d=!0,allow:y="autoplay; fullscreen; encrypted-media",className:p,onPlay:v,onPause:b,onEnded:m,...f}=e,h=(0,s.useRef)(null),_=(0,s.useRef)(null),P=(0,I.Z)(_,a),k=(0,s.useMemo)(()=>(0,N.av)(t,{autoplay:o,background:u,controls:i,loop:n,muted:d}),[t,o,u,i,n,d]);return(0,s.useEffect)(()=>{if(!h.current)return;let e=h.current,a=new C.Z(e);P(a),v&&a.on("play",v),b&&a.on("pause",b),m&&a.on("ended",m)},[o,v,b,m,P]),(0,r.jsx)("iframe",{...f,className:l()(w.videoIframe,p),src:k,allowFullScreen:c,allow:y,ref:h})});var x=(0,s.forwardRef)(function(e,a){let{className:t,videoId:o,customPosterSrc:k,host:C="youtube",autoplay:N,aspectRatio:I=.5625,controls:x="enabled",loop:B,muted:j,altText:T="",showPoster:E,hasShadow:M,disableBorderRadius:Z,thumbnailOnly:V,isLocked:L,onTimeUpdate:R}=e,A=(0,n.useRouter)(),F=(0,y.YB)(),{locale:D}=(0,_.Z)(),{setSnackBarMessage:q}=(0,P.ZP)(),[U,X]=(0,s.useState)(N),[$,Y]=(0,s.useState)(null),[H,K]=(0,s.useState)(!1),[O,W]=(0,s.useState)(!1),[z,G]=(0,s.useState)(!1),J=(0,s.useRef)(!1);J.current=!!(J.current||U);let Q=J.current||!E||z||O,ee=!!(j??N),ea=(0,c.D)(o,D),et=(0,s.useMemo)(()=>F.formatMessage({id:"VideoPlayer.lockedMessage",defaultMessage:"Please register to unlock this video.",description:"Notice that appears on notion.so/webinars/:slug when clicking on a video that has not been unlocked."}),[F]),er=k?(0,c.D)(k,D):void 0,eo=(0,s.useMemo)(()=>(function(e,a){switch(e){case"youtube":return(0,d.p)(a);case"vimeo":return""}})(C,ea),[C,ea]),[el,en]=(0,s.useState)(null),[es,ei]=(0,s.useState)(null),eu=(0,s.useCallback)(e=>{en((null==e?void 0:e.getInternalPlayer())??null)},[]),ec=(0,s.useMemo)(()=>{switch(C){case"youtube":return el?{getCurrentTime:()=>el.getCurrentTime(),async setCurrentTime(e){await el.seekTo(e,!0)},getDuration:()=>el.getDuration(),async play(){await el.playVideo()},async pause(){await el.pauseVideo()}}:void 0;case"vimeo":return es?{getCurrentTime:()=>es.getCurrentTime(),async setCurrentTime(e){await es.setCurrentTime(e)},getDuration:()=>es.getDuration(),async play(){await es.play()},async pause(){await es.pause()}}:void 0}},[C,el,es]);g(ec,R),(0,s.useImperativeHandle)(a,()=>ec,[ec]);let[ed]=(0,u.r5)(async()=>{switch(C){case"youtube":return`https://www.youtube.com/watch?v=${ea}`;case"vimeo":return null==es?void 0:es.getVideoUrl()}},[C,ea,es]),ey=(0,s.useMemo)(()=>({playerVars:{autoplay:Number(N),playsinline:1,modestbranding:1,controls:Number("enabled"===x),loop:Number(B??!1),rel:0}}),[N,x,B]),ep=(0,s.useCallback)(()=>{X(!0),Y(performance.now()),(0,v.xj)({id:ea})},[ea]),ev=(0,s.useCallback)(()=>{if(H||!$)return;let e=performance.now()-$;(0,v.uI)({id:ea,seconds:Math.round(e/1e3)}),K(!0)},[H,$,ea]),eb=(0,s.useCallback)(()=>{X(!1),ev()},[ev]);(0,s.useEffect)(()=>{N&&ep()},[N,ep]),(0,s.useEffect)(()=>{let e=()=>{ev()};return A.events.on("routeChangeStart",e),()=>{A.events.off("routeChangeStart",e)}},[A.events,ea,$,H,K,ev]);let em=(0,s.useCallback)(()=>{ep()},[ep]),ef=(0,s.useCallback)(()=>{eb()},[eb]),eh=(0,s.useCallback)(()=>{ev()},[ev]),e_=(0,s.useCallback)(()=>{if(L){q(et);return}let e=U?null==ec?void 0:ec.pause:null==ec?void 0:ec.play;null==e||e()},[L,et,q,U,ec]),eP=(0,s.useMemo)(()=>L?"locked":U?"playing":"paused",[L,U]),ek=(0,s.useMemo)(()=>"locked"===eP?et:F.formatMessage({id:"VideoPlayer.playbackButtonLabel",description:"Accessible label for the play/pause button on the video player",defaultMessage:(0,y.Ys)("playbackState",{paused:"Play",playing:"Pause",other:"Play"})},{playbackState:eP}),[F,eP,et]);return(0,r.jsxs)("div",{className:l()(w.videoContainer,{[w.controlsEnabled]:"enabled"===x,[w.controlsPause]:"pause"===x,[w.disableBorderRadius]:Z,[w.hasShadow]:M},t),style:{[(0,p.Ay)("--video-player-aspect-ratio")]:`${100*I}%`},id:ea,children:["youtube"===C?(0,r.jsx)(i.Z,{videoId:ea,opts:ey,iframeClassName:w.videoIframe,onPlay:em,onPause:ef,onEnd:eh,onError:()=>G(!0),ref:eu}):null,"vimeo"===C?(0,r.jsx)(S,{videoId:ea,autoplay:N,controls:"enabled"===x,loop:B,muted:ee,onPlay:em,onPause:ef,onEnded:eh,ref:ei}):null,(0,r.jsx)("div",{hidden:Q,className:w.videoPoster,children:(0,r.jsx)(m.Z,{src:er||eo,className:w.videoPosterImage,alt:T,width:1920,height:1080,quality:100,style:{objectFit:"cover",display:"block",width:"100%",height:"100%"},onError:()=>W(!0)})}),(0,r.jsxs)("button",{type:"button",hidden:z,disabled:V,className:l()(w.playbackButton,{[w.fullscreen]:!Q||"pause"===x,[w.playbackStateLocked]:"locked"===eP,[w.playbackStatePaused]:"paused"===eP,[w.playbackStatePlaying]:"playing"===eP}),onClick:e_,children:[(0,r.jsx)("span",{className:w.playbackButtonAssistiveText,children:ek}),"locked"===eP?(0,r.jsx)(h.Lock,{className:w.playbackButtonIcon}):null,"paused"===eP?(0,r.jsx)(h.PlaybackPlay,{className:w.playbackButtonIcon}):null,"playing"===eP?(0,r.jsx)(h.PlaybackPause,{className:w.playbackButtonIcon}):null]}),(0,r.jsxs)("div",{role:"alert",hidden:!z,className:w.error,children:[(0,r.jsx)("p",{className:w.errorLine,children:(0,r.jsx)(y._H,{id:"videoPlayer.error.adblocker",description:"Error message when the video player is blocked by an ad blocker",defaultMessage:"Uh-oh! It looks like your ad blocker is preventing the video from playing."})}),"youtube"===C&&"resolved"===ed.status?(0,r.jsx)("p",{className:w.errorLine,children:(0,r.jsx)(y._H,{id:"videoPlayer.error.youtube",description:"Error message when YouTube is not available which links to the video on youtube.com",defaultMessage:"Please watch it on <a>YouTube</a>",values:{a:e=>(0,r.jsx)(f.Z,{href:ed.value,children:e})}})}):null,(0,r.jsx)(m.Z,{className:w.errorIllustration,src:b.Z.illustratedIcons.catLookingUpPng,width:154.60000000000002,height:193,alt:""})]})]})})},57142:function(e,a,t){"use strict";function r(e){let a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(var r=arguments.length,o=Array(r>2?r-2:0),l=2;l<r;l++)o[l-2]=arguments[l];let n=0,s=r=>{n=requestAnimationFrame(s),a??=r,r-a<t||(a=r,e(r,...o))};return n=requestAnimationFrame(s),()=>cancelAnimationFrame(n)}function o(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(var t=arguments.length,o=Array(t>2?t-2:0),l=2;l<t;l++)o[l-2]=arguments[l];if(a<=0){let t=setTimeout(e,a,...o);return()=>clearTimeout(t)}let n=r(()=>{n(),e(...o)},a,...o);return n}t.d(a,{K5:function(){return o},PB:function(){return r}})},50749:function(e,a,t){"use strict";t.d(a,{av:function(){return n},ql:function(){return s}});var r=t(19126),o=t.n(r),l=t(98460);function n(e){let{autoplay:a,background:t,controls:r,muted:l,loop:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=new URL(`https://player.vimeo.com/video/${e}`),i=o().stringify({autoplay:Number(a),background:Number(t),controls:Number(r),loop:Number(n),muted:Number(l)});return s.search=`${s.search}&${i}`,s.href}async function s(e){let a=new URL("https://vimeo.com/api/oembed.json");return a.search=o().stringify(e),fetch(a.href).then(e=>e.json()).catch(a=>{l.ZP.error("vimeo.getVimeoOEmbed",{params:e,error:a})})}},26722:function(e,a,t){"use strict";function r(e){return`https://img.youtube.com/vi/${e}/maxresdefault.jpg`}t.d(a,{p:function(){return r}})},22617:function(e){e.exports={videoIframe:"videoPlayer_videoIframe__ZNVrQ",videoContainer:"videoPlayer_videoContainer__ITseV",disableBorderRadius:"videoPlayer_disableBorderRadius__s_EXS",hasShadow:"videoPlayer_hasShadow__YlX_M",videoPoster:"videoPlayer_videoPoster___Fqq7",videoPosterImage:"videoPlayer_videoPosterImage__m0s3G",playButtonTriangle:"videoPlayer_playButtonTriangle__SZoVZ",playButtonCircle:"videoPlayer_playButtonCircle__T6mnB",playButton:"videoPlayer_playButton__HyOn_",playbackButton:"videoPlayer_playbackButton__Wj00P",fullscreen:"videoPlayer_fullscreen__MFVZX",controlsEnabled:"videoPlayer_controlsEnabled___obVh",playbackStatePlaying:"videoPlayer_playbackStatePlaying__zUrVd",controlsPause:"videoPlayer_controlsPause__Xt9V7",playbackStateLocked:"videoPlayer_playbackStateLocked__XNgaJ",playbackStatePaused:"videoPlayer_playbackStatePaused__u2Fv_",playbackButtonIcon:"videoPlayer_playbackButtonIcon__xWc5b",playbackButtonAssistiveText:"videoPlayer_playbackButtonAssistiveText__mECDy",error:"videoPlayer_error__mIbKi",errorLine:"videoPlayer_errorLine__pR8bX",errorIllustration:"videoPlayer_errorIllustration__AITlh"}}}]);